<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue Vixens Workshops | üìã Chapter 6: Build a Tinder-Style Mobile App: Tindogs!</title>
    <meta name="description" content="Workshops to teach web and mobile development with Vue.js to beginners">
    
    
    <link rel="preload" href="/docs/assets/css/13.styles.c8cfe150.css" as="style"><link rel="preload" href="/docs/assets/js/app.e172f5df.js" as="script"><link rel="preload" href="/docs/assets/js/4.8a6ff014.js" as="script"><link rel="prefetch" href="/docs/assets/js/0.98e6ebf2.js"><link rel="prefetch" href="/docs/assets/js/1.4bdd5a0a.js"><link rel="prefetch" href="/docs/assets/js/2.b31c432b.js"><link rel="prefetch" href="/docs/assets/js/3.59535297.js"><link rel="prefetch" href="/docs/assets/js/5.55ab4fc3.js"><link rel="prefetch" href="/docs/assets/js/6.379cddf3.js"><link rel="prefetch" href="/docs/assets/js/7.90e00d9b.js"><link rel="prefetch" href="/docs/assets/js/8.b60b940a.js"><link rel="prefetch" href="/docs/assets/js/9.1867f181.js"><link rel="prefetch" href="/docs/assets/js/10.cabddb38.js"><link rel="prefetch" href="/docs/assets/js/11.8b097b46.js"><link rel="prefetch" href="/docs/assets/js/12.d5c64aeb.js">
    <link rel="stylesheet" href="/docs/assets/css/13.styles.c8cfe150.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/docs/" class="home-link router-link-active"><!----><span class="site-name">
      Vue Vixens Workshops
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="http://www.vuevixens.org" target="_blank" rel="noopener noreferrer" class="nav-link">Team</a></div><a href="https://github.com/vuevixens/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="http://www.vuevixens.org" target="_blank" rel="noopener noreferrer" class="nav-link">Team</a></div><a href="https://github.com/vuevixens/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><a href="/docs/workshop/" class="sidebar-link">About Vue Vixens Workshops</a></li><li><a href="/docs/workshop/ch1.html" class="sidebar-link">üê∂ Chapter 1: Introducing the My Pet Shop Web App</a></li><li><a href="/docs/workshop/ch2.html" class="sidebar-link">üê∂ Chapter 2: Build a Pet Gallery</a></li><li><a href="/docs/workshop/ch3.html" class="sidebar-link">üê∂ Chapter 3: Connect your Project to an API</a></li><li><a href="/docs/workshop/ch4.html" class="sidebar-link">üê∂ Chapter 4: Create a Dog Adoption Experience</a></li><li><a href="/docs/workshop/ch5.html" class="sidebar-link">üê∂ Chapter 5: Complete the Adoption Experience with a Form</a></li><li><a href="/docs/workshop/ch6.html" class="active sidebar-link">üê∂ Chapter 6: My First Mobile App: Tindogs</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/workshop/ch6.html#instructions" class="sidebar-link">Instructions</a></li><li class="sidebar-sub-header"><a href="/docs/workshop/ch6.html#scaffold-a-nativescript-vue-app-and-connect-your-device" class="sidebar-link">Scaffold a NativeScript-Vue App and Connect your Device</a></li><li class="sidebar-sub-header"><a href="/docs/workshop/ch6.html#add-some-styles" class="sidebar-link">Add some Styles</a></li><li class="sidebar-sub-header"><a href="/docs/workshop/ch6.html#add-a-plugin-to-create-a-card-layout" class="sidebar-link">Add a Plugin to Create a Card Layout</a></li><li class="sidebar-sub-header"><a href="/docs/workshop/ch6.html#add-some-data" class="sidebar-link">Add some Data</a></li><li class="sidebar-sub-header"><a href="/docs/workshop/ch6.html#make-the-cards-swipable" class="sidebar-link">Make the Cards Swipable</a></li><li class="sidebar-sub-header"><a href="/docs/workshop/ch6.html#add-some-animated-buttons" class="sidebar-link">Add Some Animated Buttons</a></li></ul></li><li><a href="/docs/workshop/mini1.html" class="sidebar-link">üêæ Mini Workshop 1: Build a Mobile App to Choose a Pet</a></li><li><a href="/docs/workshop/mini2.html" class="sidebar-link">üêæ Mini Workshop 2: Build A Web App to Fetch &amp; Like Pets</a></li></ul></div><div class="page"><div class="content"><h1 id="üìã-chapter-6-build-a-tinder-style-mobile-app-tindogs"><a href="#üìã-chapter-6-build-a-tinder-style-mobile-app-tindogs" aria-hidden="true" class="header-anchor">#</a> üìã Chapter 6: Build a Tinder-Style Mobile App: Tindogs!</h1><table><thead><tr><th><strong>Project¬†Goal</strong></th><th>Build a card-swipe style mobile app with NativeScript and Vue</th></tr></thead><tbody><tr><td><strong>What¬†you‚Äôll¬†learn</strong></td><td>How to build native mobile cross-platform apps with Vue and NativeScript including managing layouts and plugins</td></tr><tr><td><strong>Tools¬†you‚Äôll¬†need</strong></td><td>A modern browser like Chrome.<br><br>Access to the <a href="http://play.nativescript.org" target="_blank" rel="noopener noreferrer">NativeScript Playground</a> - consider creating an account in the Playground to keep the versions of your work intact.<br><br>A mobile phone (iOS or Android) with the NativeScript Playground and Preview apps installed.<br><br>The two NativeScript companion apps for the playground are the NativeScript Viewer and NativeScript Playground.<br><br>On Android: <a href="https://play.google.com/store/apps/details?id=org.nativescript.play" target="_blank" rel="noopener noreferrer">NativeScript Playground</a> and <a href="https://play.google.com/store/apps/details?id=org.nativescript.preview" target="_blank" rel="noopener noreferrer">NativeScript Preview</a>.<br><br>On iOS: <a href="https://itunes.apple.com/us/app/nativescript-playground/id1263543946" target="_blank" rel="noopener noreferrer">NativeScript Playground</a> and <a href="https://itunes.apple.com/us/app/nativescript-preview/id1264484702" target="_blank" rel="noopener noreferrer">NativeScript Preview</a></td></tr><tr><td><strong>Time needed to complete</strong></td><td>1 hour</td></tr><tr><td><strong>Just want to try the app?</strong></td><td><a href="https://https://play.nativescript.org/?template=play-vue&id=f8WlCD&v=6" target="_blank" rel="noopener noreferrer">Open this link in the Playground App</a></td></tr></tbody></table><h2 id="instructions"><a href="#instructions" aria-hidden="true" class="header-anchor">#</a> Instructions</h2><p>In this chapter, we're going to move from building a web app to create a pet adoption experience to building a mobile app for a variation on this theme. Using the Dog CEO API again, we're going to create &quot;Tinder for Dogs&quot; - &quot;Tindogs&quot; - where the user can load up a deck of 15 dog images at a time and swipe left and right to 'like' various dogs. All in good fun! Let's get started.</p><h2 id="scaffold-a-nativescript-vue-app-and-connect-your-device"><a href="#scaffold-a-nativescript-vue-app-and-connect-your-device" aria-hidden="true" class="header-anchor">#</a> Scaffold a NativeScript-Vue App and Connect your Device</h2><p>We're going to work in the NativeScript Playground to build this app. Open the <a href="http://play.nativescript.org" target="_blank" rel="noopener noreferrer">NativeScript Playground</a> and take a look around. On your first visit, you'll see several 'coach marks' showing where key functionality is kept.</p><p><img src="/docs/assets/img/playground1.de0d0870.png" alt="coach marks in the playground"></p><p>Click 'Play Now' to open the main editor. You'll see a QR code appear - scan that with the NativeScript Play app. This allows your phone to refresh automatically as you code. Now you're ready to scaffold a NativeScript-Vue app!</p><p>By default, the first playground app is created using Angular. Click 'new' at the top and choose 'NS-Vue' as a template. You'll get another QR code, so scan that one. You'll see your phone refresh and a basic app appear:</p><p><img src="/docs/assets/img/playground2.a1940941.png" alt="base app"></p><h2 id="add-some-styles"><a href="#add-some-styles" aria-hidden="true" class="header-anchor">#</a> Add some Styles</h2><p>Now we're going to style the app's interface and build its UI. It's going to have an ActionBar, a title, two hidden buttons, and a stack of cards. Depending on whether you swipe right or left, those buttons will briefly appear and disappear.</p><p>Open the app.css file in the app root. Overwrite the file with these styles:</p><pre class="language-text"><code>@import 'nativescript-theme-core/css/core.light.css';

.card{
    margin: 10;
    z-index: 0;
    border-radius: 5;
}

.action-bar {
    background-color: white;
    color: red;
}

.btn {
    z-index: 1;
    padding: 5;
    border-width: 5;
    border-radius: 5;
    background-color: white;
    text-align: center;
    font-size: 40px;
    opacity: 0;
}

.h1{
    text-align: center;
    padding-top: 40;
}
.yes{
    color: green;
    border-color: green;
    transform: rotate(15deg);
}

.no{
    color: red;
    border-color: red;
    transform: rotate(-15deg);
}
</code></pre><p>Take a look at what's going on in this file. We are able to write CSS to style the various elements in our Android and iOS mobile apps, using a subset of standard CSS. Take note of the z-index and the opacity settings, which will allow us to layer elements vertically.</p><p>For the moment, the styling hasn't done much other than colorize the ActionBar. We need to prepare to build up the UI by adding a plugin.</p><h2 id="add-a-plugin-to-create-a-card-layout"><a href="#add-a-plugin-to-create-a-card-layout" aria-hidden="true" class="header-anchor">#</a> Add a Plugin to Create a Card Layout</h2><p>We're going to use a NativeScript Plugin to create a layout of stackable cards created from images fetched from the Dog CEO API.</p><div class="tip custom-block"><p class="custom-block-title">üí°</p><p>Find all kinds of cool verified and community-built plugins in the <a href="http://market.nativescript.org" target="_blank" rel="noopener noreferrer">NativeScript Marketplace</a>, along with code samples and templates.</p></div><p>Import a plugin into the playground by clicking on the small <code>+</code> button next to the title <code>Explorer</code>. In the modal, search for <code>nativescript-swipe-layout</code> and import the latest version of the plugin.</p><p><img src="/docs/assets/img/plugin.e49dfa23.png" alt="base app"></p><p>Next, we need to import the plugin so we can use it. In the <code>app.js</code> file, under the first line where <code>Vue</code> is imported, import the plugin:</p><pre class="language-text"><code>Vue.registerElement('SwipeLayout', () =&gt; require(&quot;./nativescript-swipe-layout&quot;).SwipeLayout);
Vue.config.silent = false;
</code></pre><div class="tip custom-block"><p class="custom-block-title">üí°</p><p>It's useful for debugging purposes to set <code>Vue.config.silent</code> to <code>false</code>, and watch for errors in the Device Logs panel at the bottom of the Playground interface.</p></div><h2 id="add-some-data"><a href="#add-some-data" aria-hidden="true" class="header-anchor">#</a> Add some Data</h2><p>Let's query the Dog CEO API again to get 15 random images of dogs for the users to swipe. First, add a <code>data</code> object as a placeholder for our data arrays and to keep the <code>swipeLayoutAnimated</code> value <code>ON_EVENTS</code>. This latter value will force the user to only be able to swipe left or right (and not up or down) - because the plugin allows the developer to specify that the layout will only respond to swipe gestures that have a callback.</p><p>Add this block directly under <code>new Vue({</code>:</p><pre class="language-text"><code>data() {
    return {
      dogArray: [],
      dogs: [],
      swipeLayoutAnimated: 'ON_EVENTS'
    }
  },
</code></pre><p>Now we can get ready to call the API. First, import the <code>http</code> module at the top of <code>app.js</code>:</p><p><code>const http = require(&quot;http&quot;);</code></p><p>Then, create a <code>methods</code> block. After the final comma of <code>the data() {...},</code> block, add a call to the API:</p><pre class="language-text"><code>methods: {
    getMultiDogs() {
      http.request({
        url: &quot;https://dog.ceo/api/breeds/image/random/15&quot;, method: &quot;GET&quot;
      }).then((response) =&gt; {
        this.dogArray = JSON.parse(response.content)
        for (i = 0; i &lt; 15; i++) {
          this.dogs.push(this.dogArray.message[i])
        }
        console.log(JSON.stringify(this.dogs))
      }, (e) =&gt; {
        alert(&quot;error&quot;)
      });
    }
   //handle the swipes here
  },

</code></pre><p>Take a look at this API call. We are asking the API for 15 random images, to ensure that we don't load up too many cards at once which would slow the app. We parse the response into an array, and then loop over it, creating an array of dog image urls. You should see them printed out in the Device Logs.</p><p>Next, call this <code>getMultiDogs</code> method when the app is created. Add this block just above the <code>template:</code>:</p><pre class="language-text"><code>created() {
    this.getMultiDogs();
  },
</code></pre><p>Finally, display the images in the UI. Replace the <code>&lt;ScrollView...</code> tags with this markup:</p><pre class="language-text"><code>&lt;StackLayout&gt;
   &lt;GridLayout rows=&quot;*&quot; columns=&quot;*&quot;&gt;
      &lt;SwipeLayout v-for=&quot;dog in dogs&quot; :key=&quot;dog.id&quot; row=&quot;0&quot; col=&quot;0&quot; :animationState=&quot;swipeLayoutAnimated&quot;&gt;
          &lt;Image class=&quot;card&quot; :src=&quot;dog&quot; stretch=&quot;aspectFill&quot;&gt;&lt;/Image&gt;
       &lt;/SwipeLayout&gt;
    &lt;/GridLayout&gt;
 &lt;/StackLayout&gt;
</code></pre><div class="tip custom-block"><p class="custom-block-title">üí°</p><p>The biggest difference between developing for web and mobile is the layouts. NativeScript layouts are designed to handle native mobile layouting, and don't have the type of DOM-building techniques familiar to web developers. Learn more about NativeScript layouting <a href="https://www.nslayouts.com/" target="_blank" rel="noopener noreferrer">here</a></p></div><p>By this time, you should see a dog appearing in a card, but the card isn't swipable. Let's fix that.</p><h2 id="make-the-cards-swipable"><a href="#make-the-cards-swipable" aria-hidden="true" class="header-anchor">#</a> Make the Cards Swipable</h2><p>We need to add a few methods to manage the user's gestures, swiping right and left.</p><p>First, add two new methods in the methods block:</p><pre class="language-text"><code>next() {
   this.dogs.pop();
},
swipeRightCallback(e) {
   this.next();
},
swipeLeftCallback(e) {
   this.next();     
}
</code></pre><p>Then, edit the <code>&lt;SwipeLayout</code> markup so that the callback is invoked on swipe:</p><p>Change this line:</p><p><code>&lt;SwipeLayout v-for=&quot;dog in dogs&quot; :key=&quot;dog.id&quot; row=&quot;0&quot; col=&quot;0&quot; :animationState=&quot;swipeLayoutAnimated&quot;&gt;</code></p><p>To this:</p><p><code>&lt;SwipeLayout v-for=&quot;dog in dogs&quot; :key=&quot;dog.id&quot; row=&quot;0&quot; col=&quot;0&quot; :animationState=&quot;swipeLayoutAnimated&quot; @swipeLeft=&quot;swipeLeftCallback($event)&quot; @swipeRight=&quot;swipeRightCallback($event)&quot;&gt;</code>.</p><p>For the moment, this edit will add a callback for left and right swiping gestures, and removing elements from the dogs array as the user disposes of the card. The cards should swipe left and right by now.</p><p>What happens, though, when you swipe more than fifteen times? We can add a call to the <code>next()</code> method to call the API again for a new set of data, once the old is discarded. Edit <code>next()</code>:</p><pre class="language-text"><code>next() {
   this.dogs.pop();
   console.log(this.dogs.length)
   if (this.dogs.length == 0) {
      alert(&quot;Loading some more!&quot;)
        this.getMultiDogs();
   }
},
</code></pre><p>Try to swipe left and right. What happens when you get up to swipe number 15? Watch the Device Log to verify the length of your array.</p><h2 id="add-some-animated-buttons"><a href="#add-some-animated-buttons" aria-hidden="true" class="header-anchor">#</a> Add Some Animated Buttons</h2><p>Your app now loads 15 dogs, allows you to swipe left and right, and loads 15 more when the dogs array is empty.</p><p>Let's experiment with some NativeScript animations to make a red button flash on left swipe, and a green button on right swipe.</p><p>First, require the Animation module at the top:</p><p><code>const Animation = require('ui/animation');</code></p><p>Then, add a section at the top of the UI, under the opening <code>&lt;StackLayout</code> tag:</p><pre class="language-text"><code>&lt;AbsoluteLayout&gt;          
     &lt;GridLayout style=&quot;z-index:1&quot; columns=&quot;*,*&quot; width=&quot;100%&quot; paddingTop=&quot;20&quot;&gt;
         &lt;Label ref=&quot;no&quot; col=&quot;0&quot; text=&quot;ü§î&quot; class=&quot;btn no&quot;/&gt;
         &lt;Label ref=&quot;yes&quot; col=&quot;1&quot; text=&quot;üòç&quot; class=&quot;btn yes&quot;/&gt;
      &lt;/GridLayout&gt;
    &lt;Label class=&quot;h1&quot; width=&quot;100%&quot; text=&quot;Fetch a new friend!&quot;/&gt;              
&lt;/AbsoluteLayout&gt;
</code></pre><p>This markup presents a nice mix of layouts: AbsoluteLayout fixes the invisible buttons to the top of the app, overlaying the title. Inside the AbsoluteLayout tag there is a GridLayout with the buttons aligned horizontally.</p><p>Finally, replace the callback code with the following two methods. Note the use of the animation module to change the opacity of each button quickly from invisible to visible:</p><pre class="language-text"><code>swipeRightCallback(e) {
      this.$refs.yes.nativeView.animate({ opacity: 1 })
        .then(() =&gt; {
          this.$refs.yes.nativeView.animate({ opacity: 0 })
            .then(() =&gt; {
              this.next();
            })
        })
    },
    swipeLeftCallback(e) {
      this.$refs.no.nativeView.animate({ opacity: 1 })
        .then(() =&gt; {
          this.$refs.no.nativeView.animate({ opacity: 0 })
            .then(() =&gt; {
              this.next();
            })
        })
    }
</code></pre><div class="tip custom-block"><p class="custom-block-title">üí°</p><p>Note the use of <code>$refs</code>, a reference to the element that needs to be animated within the nativeView. Identify which element is referenced by looking for its <code>ref</code> in the markup: <code>ref=&quot;no&quot;</code>. Refs function like a div's 'id' in web development.</p></div><p>Now, try swiping! You should see a red and green briefly appearing as you swipe.</p><p>One final tweak is to change the ActionBar title! Give your app a name.</p><p><strong>üéäCongratulations, you've finished your mobile app!üéä</strong></p><h1 id="final-result"><a href="#final-result" aria-hidden="true" class="header-anchor">#</a> Final result</h1><p><img src="/docs/assets/img/tindogs.2ee2506d.png" alt="base app"></p></div><div class="content edit-link"><a href="https://github.com/vuevixens/docs/edit/master/workshop/workshop/ch6.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="content page-nav"><p class="inner"><span class="prev">
        ‚Üê <a href="/docs/workshop/ch5.html" class="prev">
          üê∂ Chapter 5: Complete the Adoption Experience with a Form
        </a></span><span class="next"><a href="/docs/workshop/mini1.html">
          üêæ Mini Workshop 1: Build a Mobile App to Choose a Pet
        </a> ‚Üí
      </span></p></div></div></div></div>
    <script src="/docs/assets/js/4.8a6ff014.js" defer></script><script src="/docs/assets/js/app.e172f5df.js" defer></script>
  </body>
</html>
